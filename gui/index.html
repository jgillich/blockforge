<!DOCTYPE html>

<head>
  <title>CoinStack</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.6.1/css/bulma.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://cdn.rawgit.com/jenil/bulmaswatch/0.6.0/cosmo/bulmaswatch.min.css">
  <link rel="stylesheet" href="https://cdn.rawgit.com/allienworks/cryptocoins/master/webfont/cryptocoins.css">
  <link rel="stylesheet" href="https://cdn.rawgit.com/Wikiki/bulma-switch/9982897c/bulma-switch.css">
  <link rel="stylesheet" href="app.css">
  <meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<body>
  <gui-main></gui-main>
</body>

<script data-src="gui-main.html" type="riot/tag"></script>
<script data-src="hardware-list.html" type="riot/tag"></script>
<script data-src="coin-list.html" type="riot/tag"></script>
<script data-src="coin-edit.html" type="riot/tag"></script>

<script src="https://cdn.jsdelivr.net/npm/riot@3.8/riot+compiler.min.js"></script>
<script>

  function isWebView() {
    try {
      window.external.invoke('');
      return true;
    } catch (e) {
      return false;
    }
  }


  if (!isWebView()) {
    window.miner = {}
    miner.data = {
      "hardware": {
        "cpus": [
          {
            "model": "Intel(R) Core(TM) i5-6200U CPU @ 2.30GHz",
            "virtual_cores": 4,
          }
        ],
        "gpus": [],
      },
      "config": {
        "donate": 1,
        "log_level": "",
        "coin": {
          "xmr": {
            "pool": {
              "url": "stratum+tcp://xmr.poolmining.org:3032",
              "user": "46DTAEGoGgc575EK7rLmPZFgbXTXjNzqrT4fjtCxBFZSQr5ScJFHyEScZ8WaPCEsedEFFLma6tpLwdCuyqe6UYpzK1h3TBr",
              "pass": "x"
            }
          },
          "eth": {
            "pool": {
              "url": "stratum+tcp://eth.poolmining.org:3072",
              "user": "0x25ae2cbddE36CfC9D959a4d1f76964EaE7517748",
              "pass": "x"
            }
          }
        },
        "cpu": {
          "Intel Core i5-6200U": {
            "coin": "xmr",
            "threads": 1
          }
        },
        "gpu": {
          "Radeon HD 570": {
            "coin": "xmr",
            "index": 0
          },
          "GeForce GTX 1080": {
            "coin": "eth",
            "index": 1
          }
        }
      }
    }
    init()
  }

  function init() {
    riot.mount('gui-main', miner.data)
  }
</script>
